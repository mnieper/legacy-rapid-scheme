<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Rapid Scheme</title>
  <link rel="stylesheet" href="css/rapid.css">
  <link rel="stylesheet" href="css/base.css">
  <script src="js/rapid.js"></script>
</head>
<body>
  <header id="header">
    <h1>Rapid Scheme</h1>
  </header>
  <main>
    <div id="buttons">
      <button id="run">Run test program</button>
    </div>
    <div id="console"></div>
    <div id="status">&nbsp;</div>
  </main>
  <footer id="footer">
    Copyright © 2014 Marc Nieper-Wißkirchen    
  </footer>
  <script>
    var console = new rapid.Console(document.querySelector('#console'));
    function run() {      
      var program = new rapid.ConsoleProgram('js/example/primes.js', console);
      var time;
      program.onexit = function (data) {
        time = performance.now() - time;
        document.querySelector('#status').textContent =
          (data.code ? 'Program exited normally.' : 'Program exited abnormally.') + 
          ' Time taken: ' + Math.round(time) + ' milliseconds.';
      };
      document.querySelector('#status').textContent = 'Program running…';
      time = performance.now();
      program.run();      
     }
     document.querySelector('#run').onclick = run;
  </script>
</body>
</html>

